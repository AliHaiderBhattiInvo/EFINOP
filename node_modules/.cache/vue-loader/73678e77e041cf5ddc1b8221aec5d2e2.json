{"remainingRequest":"/Users/mp-alih-me-397/Downloads/code/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mp-alih-me-397/Downloads/code/src/views/User/UserProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mp-alih-me-397/Downloads/code/src/views/User/UserProfile.vue","mtime":1653396920000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGksIHsKICAgIHNldEF1dGhUb2tlbgp9IGZyb20gIi4uLy4uL1V0aWxzL2FwaSIKaW1wb3J0IHsKICAgIGZpbmRhc2gKfSBmcm9tICIuLi8uLi9jb25maWcvcGx1Z2luSW5pdCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiVXNlclByb2ZpbGUiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyOiB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiAiIiwKICAgICAgICAgICAgICAgIG9mZmljZV9waG9uZV9udW1iZXI6ICIiLAogICAgICAgICAgICAgICAgbWlkZGxlX25hbWU6ICIiLAogICAgICAgICAgICAgICAgZGlyZWN0X3Bob25lX251bWJlcjogIiIsCiAgICAgICAgICAgICAgICBsYXN0X25hbWU6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICB1bkNoYW5nZWRGaWVsZHM6IHsKICAgICAgICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICAgICAgICAgIHBob25lX251bWJlcjogIiIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgb25TdWJtaXQoKSB7CiAgICAgICAgICAgIHNldEF1dGhUb2tlbihgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjY2Vzc190b2tlbiIpfWApOwogICAgICAgICAgICBhd2FpdCBhcGkKICAgICAgICAgICAgICAgIC5wb3N0KGAvdXNlci91cGRhdGUtcHJvZmlsZWAsIHsKICAgICAgICAgICAgICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy51c2VyCgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZmluZGFzaC5zaG93U25hY2tiYXIoCiAgICAgICAgICAgICAgICAgICAgICAgICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlVzZXIgUHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4iCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFzeW5jIGdldFVzZXJQcm9maWxlRGF0YSgpIHsKICAgICAgICAgICAgc2V0QXV0aFRva2VuKGBCZWFyZXIgJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzX3Rva2VuIil9YCk7CiAgICAgICAgICAgIGF3YWl0IGFwaQogICAgICAgICAgICAgICAgLmdldChgL21lYCkKICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBlbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgb2ZmaWNlX3Bob25lX251bWJlciwKICAgICAgICAgICAgICAgICAgICAgICAgbWlkZGxlX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdF9waG9uZV9udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVfbnVtYmVyCiAgICAgICAgICAgICAgICAgICAgfSA9IHJlcy5kYXRhLmRhdGEudXNlcgogICAgICAgICAgICAgICAgICAgIHRoaXMudXNlciA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0X25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG9mZmljZV9waG9uZV9udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1pZGRsZV9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RfcGhvbmVfbnVtYmVyLAogICAgICAgICAgICAgICAgICAgICAgICBsYXN0X25hbWUsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMudW5DaGFuZ2VkRmllbGRzID0gewogICAgICAgICAgICAgICAgICAgICAgICBlbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVfbnVtYmVyCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0VXNlclByb2ZpbGVEYXRhKCkKICAgIH0KfQo="},{"version":3,"sources":["UserProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserProfile.vue","sourceRoot":"src/views/User","sourcesContent":["<template>\n<b-container fluid>\n    <form @submit.prevent=\"onSubmit()\">\n        <b-row>\n            <b-col lg=\"12\">\n                <div class=\"iq-edit-list-data\">\n                    <iq-card>\n                        <template v-slot:headerTitle>\n                            <h4 class=\"card-title\">User Profile Information</h4>\n                        </template>\n                        <template v-slot:body>\n                            <b-row align-v=\"center\">\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"username\">Username:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.username\" id=\"username\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"email\">Email:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"email\" v-model=\"unChangedFields.email\" id=\"email\" readonly></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"first_name\">First Name:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.first_name\" id=\"first_name\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"office_phone_number\">Office Telephone:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.office_phone_number\" id=\"office_phone_number\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"middle_name\">Middle Name or Initial:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.middle_name\" id=\"middle_name\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"direct_phone_number\">Direct Telephone:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.direct_phone_number\" id=\"direct_phone_number\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"last_name\">Last Name </label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.last_name\" id=\"last_name\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"mobile_telephone\">Mobile Telephone </label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"unChangedFields.phone_number\" id=\"mobile_telephone\" readonly></b-form-input>\n                                </b-form-group>\n                            </b-row>\n                            <b-button type=\"submit\" variant=\"primary\" class=\"mr-2\">Submit</b-button>\n                            <b-button type=\"reset\" variant=\"none\" class=\"iq-bg-danger\">Cancel</b-button>\n                        </template>\n                    </iq-card>\n                </div>\n            </b-col>\n        </b-row>\n    </form>\n</b-container>\n</template>\n\n<script>\nimport api, {\n    setAuthToken\n} from \"../../Utils/api\"\nimport {\n    findash\n} from \"../../config/pluginInit\";\n\nexport default {\n    name: \"UserProfile\",\n    data() {\n        return {\n            user: {\n                username: \"\",\n                first_name: \"\",\n                office_phone_number: \"\",\n                middle_name: \"\",\n                direct_phone_number: \"\",\n                last_name: \"\",\n            },\n            unChangedFields: {\n                email: \"\",\n                phone_number: \"\"\n            }\n        }\n    },\n    methods: {\n        async onSubmit() {\n            setAuthToken(`Bearer ${localStorage.getItem(\"access_token\")}`);\n            await api\n                .post(`/user/update-profile`, {\n                    \"data\": {\n                        ...this.user\n\n                    }\n                })\n                .then((res) => {\n                    findash.showSnackbar(\n                        \"success\",\n                        \"User Profile has been updated successfully.\"\n                    );\n                }).catch((error) => {\n                    console.log(error)\n                })\n        },\n        async getUserProfileData() {\n            setAuthToken(`Bearer ${localStorage.getItem(\"access_token\")}`);\n            await api\n                .get(`/me`)\n                .then((res) => {\n                    const {\n                        username,\n                        first_name,\n                        email,\n                        office_phone_number,\n                        middle_name,\n                        direct_phone_number,\n                        last_name,\n                        phone_number\n                    } = res.data.data.user\n                    this.user = {\n                        username,\n                        first_name,\n                        office_phone_number,\n                        middle_name,\n                        direct_phone_number,\n                        last_name,\n                    }\n                    this.unChangedFields = {\n                        email,\n                        phone_number\n                    }\n                }).catch((error) => {\n                    console.log(error)\n                })\n        }\n    },\n    mounted() {\n        this.getUserProfileData()\n    }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}