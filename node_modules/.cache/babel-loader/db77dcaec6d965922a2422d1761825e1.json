{"remainingRequest":"/Users/mp-alih-me-397/Downloads/code/node_modules/babel-loader/lib/index.js!/Users/mp-alih-me-397/Downloads/code/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mp-alih-me-397/Downloads/code/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mp-alih-me-397/Downloads/code/src/views/User/UserProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mp-alih-me-397/Downloads/code/src/views/User/UserProfile.vue","mtime":1653396920000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mp-alih-me-397/Downloads/code/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21wLWFsaWgtbWUtMzk3L0Rvd25sb2Fkcy9jb2RlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21wLWFsaWgtbWUtMzk3L0Rvd25sb2Fkcy9jb2RlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFwaSwgeyBzZXRBdXRoVG9rZW4gfSBmcm9tICIuLi8uLi9VdGlscy9hcGkiOwppbXBvcnQgeyBmaW5kYXNoIH0gZnJvbSAiLi4vLi4vY29uZmlnL3BsdWdpbkluaXQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVzZXJQcm9maWxlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBmaXJzdF9uYW1lOiAiIiwKICAgICAgICBvZmZpY2VfcGhvbmVfbnVtYmVyOiAiIiwKICAgICAgICBtaWRkbGVfbmFtZTogIiIsCiAgICAgICAgZGlyZWN0X3Bob25lX251bWJlcjogIiIsCiAgICAgICAgbGFzdF9uYW1lOiAiIgogICAgICB9LAogICAgICB1bkNoYW5nZWRGaWVsZHM6IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGhvbmVfbnVtYmVyOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzZXRBdXRoVG9rZW4oIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzX3Rva2VuIikpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5wb3N0KCIvdXNlci91cGRhdGUtcHJvZmlsZSIsIHsKICAgICAgICAgICAgICAgICAgImRhdGEiOiBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy51c2VyKQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGZpbmRhc2guc2hvd1NuYWNrYmFyKCJzdWNjZXNzIiwgIlVzZXIgUHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4iKTsKICAgICAgICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVzZXJQcm9maWxlRGF0YTogZnVuY3Rpb24gZ2V0VXNlclByb2ZpbGVEYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzZXRBdXRoVG9rZW4oIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzX3Rva2VuIikpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0KCIvbWUiKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXMkZGF0YSRkYXRhJHVzZXIgPSByZXMuZGF0YS5kYXRhLnVzZXIsCiAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IF9yZXMkZGF0YSRkYXRhJHVzZXIudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lID0gX3JlcyRkYXRhJGRhdGEkdXNlci5maXJzdF9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgZW1haWwgPSBfcmVzJGRhdGEkZGF0YSR1c2VyLmVtYWlsLAogICAgICAgICAgICAgICAgICAgICAgb2ZmaWNlX3Bob25lX251bWJlciA9IF9yZXMkZGF0YSRkYXRhJHVzZXIub2ZmaWNlX3Bob25lX251bWJlciwKICAgICAgICAgICAgICAgICAgICAgIG1pZGRsZV9uYW1lID0gX3JlcyRkYXRhJGRhdGEkdXNlci5taWRkbGVfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdF9waG9uZV9udW1iZXIgPSBfcmVzJGRhdGEkZGF0YSR1c2VyLmRpcmVjdF9waG9uZV9udW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICBsYXN0X25hbWUgPSBfcmVzJGRhdGEkZGF0YSR1c2VyLmxhc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgIHBob25lX251bWJlciA9IF9yZXMkZGF0YSRkYXRhJHVzZXIucGhvbmVfbnVtYmVyOwogICAgICAgICAgICAgICAgICBfdGhpczIudXNlciA9IHsKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogZmlyc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgICBvZmZpY2VfcGhvbmVfbnVtYmVyOiBvZmZpY2VfcGhvbmVfbnVtYmVyLAogICAgICAgICAgICAgICAgICAgIG1pZGRsZV9uYW1lOiBtaWRkbGVfbmFtZSwKICAgICAgICAgICAgICAgICAgICBkaXJlY3RfcGhvbmVfbnVtYmVyOiBkaXJlY3RfcGhvbmVfbnVtYmVyLAogICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogbGFzdF9uYW1lCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIF90aGlzMi51bkNoYW5nZWRGaWVsZHMgPSB7CiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgICAgIHBob25lX251bWJlcjogcGhvbmVfbnVtYmVyCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlclByb2ZpbGVEYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["UserProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,OAAA,GAAA,IACA,YADA,QAEA,iBAFA;AAGA,SACA,OADA,QAEA,yBAFA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,UAAA,EAAA,EAFA;AAGA,QAAA,mBAAA,EAAA,EAHA;AAIA,QAAA,WAAA,EAAA,EAJA;AAKA,QAAA,mBAAA,EAAA,EALA;AAMA,QAAA,SAAA,EAAA;AANA,OADA;AASA,MAAA,eAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,YAAA,EAAA;AAFA;AATA,KAAA;AAcA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,YAAA,kBAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AADA;AAAA,uBAEA,GAAA,CACA,IADA,yBACA;AACA,4CACA,KAAA,CAAA,IADA;AADA,iBADA,EAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,YAAA,CACA,SADA,EAEA,6CAFA;AAIA,iBAZA,WAYA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,iBAdA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlBA;AAmBA,IAAA,kBAnBA,gCAmBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,YAAA,kBAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AADA;AAAA,uBAEA,GAAA,CACA,GADA,QAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AAAA,4CAUA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAVA;AAAA,sBAEA,QAFA,uBAEA,QAFA;AAAA,sBAGA,UAHA,uBAGA,UAHA;AAAA,sBAIA,KAJA,uBAIA,KAJA;AAAA,sBAKA,mBALA,uBAKA,mBALA;AAAA,sBAMA,WANA,uBAMA,WANA;AAAA,sBAOA,mBAPA,uBAOA,mBAPA;AAAA,sBAQA,SARA,uBAQA,SARA;AAAA,sBASA,YATA,uBASA,YATA;AAWA,kBAAA,MAAA,CAAA,IAAA,GAAA;AACA,oBAAA,QAAA,EAAA,QADA;AAEA,oBAAA,UAAA,EAAA,UAFA;AAGA,oBAAA,mBAAA,EAAA,mBAHA;AAIA,oBAAA,WAAA,EAAA,WAJA;AAKA,oBAAA,mBAAA,EAAA,mBALA;AAMA,oBAAA,SAAA,EAAA;AANA,mBAAA;AAQA,kBAAA,MAAA,CAAA,eAAA,GAAA;AACA,oBAAA,KAAA,EAAA,KADA;AAEA,oBAAA,YAAA,EAAA;AAFA,mBAAA;AAIA,iBAzBA,WAyBA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,iBA3BA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AAjDA,GAlBA;AAqEA,EAAA,OArEA,qBAqEA;AACA,SAAA,kBAAA;AACA;AAvEA,CAAA","sourcesContent":["<template>\n<b-container fluid>\n    <form @submit.prevent=\"onSubmit()\">\n        <b-row>\n            <b-col lg=\"12\">\n                <div class=\"iq-edit-list-data\">\n                    <iq-card>\n                        <template v-slot:headerTitle>\n                            <h4 class=\"card-title\">User Profile Information</h4>\n                        </template>\n                        <template v-slot:body>\n                            <b-row align-v=\"center\">\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"username\">Username:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.username\" id=\"username\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"email\">Email:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"email\" v-model=\"unChangedFields.email\" id=\"email\" readonly></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"first_name\">First Name:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.first_name\" id=\"first_name\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"office_phone_number\">Office Telephone:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.office_phone_number\" id=\"office_phone_number\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"middle_name\">Middle Name or Initial:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.middle_name\" id=\"middle_name\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"direct_phone_number\">Direct Telephone:</label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.direct_phone_number\" id=\"direct_phone_number\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"last_name\">Last Name </label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"user.last_name\" id=\"last_name\"></b-form-input>\n                                </b-form-group>\n                                <b-form-group class=\"col-sm-6\">\n                                    <label style=\"font-weight: bold; flex: 1\" for=\"mobile_telephone\">Mobile Telephone </label>\n                                    <b-form-input style=\"flex: 2\" type=\"text\" v-model=\"unChangedFields.phone_number\" id=\"mobile_telephone\" readonly></b-form-input>\n                                </b-form-group>\n                            </b-row>\n                            <b-button type=\"submit\" variant=\"primary\" class=\"mr-2\">Submit</b-button>\n                            <b-button type=\"reset\" variant=\"none\" class=\"iq-bg-danger\">Cancel</b-button>\n                        </template>\n                    </iq-card>\n                </div>\n            </b-col>\n        </b-row>\n    </form>\n</b-container>\n</template>\n\n<script>\nimport api, {\n    setAuthToken\n} from \"../../Utils/api\"\nimport {\n    findash\n} from \"../../config/pluginInit\";\n\nexport default {\n    name: \"UserProfile\",\n    data() {\n        return {\n            user: {\n                username: \"\",\n                first_name: \"\",\n                office_phone_number: \"\",\n                middle_name: \"\",\n                direct_phone_number: \"\",\n                last_name: \"\",\n            },\n            unChangedFields: {\n                email: \"\",\n                phone_number: \"\"\n            }\n        }\n    },\n    methods: {\n        async onSubmit() {\n            setAuthToken(`Bearer ${localStorage.getItem(\"access_token\")}`);\n            await api\n                .post(`/user/update-profile`, {\n                    \"data\": {\n                        ...this.user\n\n                    }\n                })\n                .then((res) => {\n                    findash.showSnackbar(\n                        \"success\",\n                        \"User Profile has been updated successfully.\"\n                    );\n                }).catch((error) => {\n                    console.log(error)\n                })\n        },\n        async getUserProfileData() {\n            setAuthToken(`Bearer ${localStorage.getItem(\"access_token\")}`);\n            await api\n                .get(`/me`)\n                .then((res) => {\n                    const {\n                        username,\n                        first_name,\n                        email,\n                        office_phone_number,\n                        middle_name,\n                        direct_phone_number,\n                        last_name,\n                        phone_number\n                    } = res.data.data.user\n                    this.user = {\n                        username,\n                        first_name,\n                        office_phone_number,\n                        middle_name,\n                        direct_phone_number,\n                        last_name,\n                    }\n                    this.unChangedFields = {\n                        email,\n                        phone_number\n                    }\n                }).catch((error) => {\n                    console.log(error)\n                })\n        }\n    },\n    mounted() {\n        this.getUserProfileData()\n    }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/views/User"}]}